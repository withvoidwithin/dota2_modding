---
interface Props {
  meta: {
    author?: string;
    game_version?: string;
    date?: string | Date;
  };
}

const { meta } = Astro.props;

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
const formattedDate = meta.date 
  ? new Date(meta.date).toLocaleDateString('ru-RU', {
      day: 'numeric',
      month: 'long',
      year: 'numeric'
    }) 
  : null;
---

<div class="meta-container not-content">
  <!-- –ë–ª–æ–∫ 1: –í–µ—Ä—Å–∏—è (–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π) -->
  {meta.game_version && (
    <div class="meta-item version">
      <span class="icon">üéÆ</span>
      <span class="label">Patch</span>
      <span class="value">{meta.game_version}</span>
    </div>
  )}

  <!-- –ë–ª–æ–∫ 2: –ê–≤—Ç–æ—Ä -->
  {meta.author && (
    <div class="meta-item author">
      <span class="icon">üë§</span>
      <span class="value">{meta.author}</span>
    </div>
  )}

  <!-- –ë–ª–æ–∫ 3: –î–∞—Ç–∞ -->
  {formattedDate && (
    <div class="meta-item date">
      <span class="icon">üìÖ</span>
      <span class="value">{formattedDate}</span>
    </div>
  )}
</div>

<style>
  /* –°—Ç–∏–ª–∏ Scoped CSS, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –±–µ–∑ Tailwind */
  .meta-container {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
    margin-bottom: 2rem;
    padding: 0.75rem 1rem;
    background-color: var(--sl-color-gray-6); /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ Starlight */
    border: 1px solid var(--sl-color-gray-5);
    border-radius: 0.5rem;
    font-family: var(--sl-font-mono); /* –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è —Ç–µ—Ö–Ω–∏—á–Ω–æ—Å—Ç–∏ */
    font-size: 0.875rem;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤ */
  .version .value {
    color: var(--sl-color-green-high); /* –Ø—Ä–∫–æ-–∑–µ–ª–µ–Ω—ã–π –¥–ª—è –ø–∞—Ç—á–∞ */
    font-weight: bold;
  }

  .author .value {
    color: var(--sl-color-blue-high);
  }

  .date .value {
    color: var(--sl-color-orange-high);
  }

  .label {
    text-transform: uppercase;
    font-size: 0.7em;
    opacity: 0.7;
    letter-spacing: 0.05em;
  }
</style>