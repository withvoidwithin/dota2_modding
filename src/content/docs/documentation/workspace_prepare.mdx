---
title: Подготовка рабочего пространства
description: Документация по подготовке рабочего пространства для разработки пользовательских игр с помощью Dota 2 Workshop Tools.
template: doc
meta:
  author: WITHVOIDWITHIN
  game_version: "7.40c"
  date: 2026-01-26
---

import { Card, CardGrid, Aside, Icon } from '@astrojs/starlight/components';

## 1. Вступление
Прежде чем начать разрабатывать собственный проект, крайне рекомендую подготовить рабочее пространство.
Это облегчит вам жизнь и сэкономит сотни часов на навигации по папкам, поиске ресурсов и бесконечном исправлении синтаксических ошибок в коде и KV.
Комфортная среда сделает процесс разработки намного понятнее и принесет массу удовольствия.

## 2. Установка Dota 2 Workshop Tools
Для начала необходимо установить **Dota 2 Workshop Tools**.
Это официальный набор инструментов (**SDK**), который распространяется бесплатно как **DLC**.

1. Откройте библиотеку **Steam**, нажмите правой кнопкой мыши на **Dota 2** и выберите **Свойства**.
2. Перейдите во вкладку **Доп. контент** (**DLC**).
3. Установите галочку напротив пункта **Dota 2 Workshop Tools DLC**.

## 3. Редактор кода (IDE)
Для разработки скриптов в Dota 2 настоятельно рекомендуется использовать **Visual Studio Code** (VS Code). Это легкий, бесплатный редактор с огромной библиотекой расширений и тем.
Скачать его можно на [официальном сайте](https://code.visualstudio.com/download).

### 3.1 Рекомендуемые расширения
Ниже приведен список расширений, которые значительно упростят процесс разработки и сделают его более комфортным.

#### Lua Language Server
[Языковой сервер Lua от Sumneko](https://marketplace.visualstudio.com/items?itemName=sumneko.lua)
— Базовое и обязательное расширение для написания кода на **Lua**.
Оно обеспечивает автоматическую проверку синтаксиса, поиск ошибок, типизацию и автодополнение кода во всем рабочем пространстве (Workspace).

#### Dota2 Lua Annotations
[Аннотации для Dota 2 API](https://marketplace.visualstudio.com/items?itemName=robincode.dota2-lua-annotations)
— Расширение, работающее в связке с языковым сервером Lua (см. выше). Оно добавляет **Dota 2 API** в базу знаний редактора.
Благодаря этому вы будете видеть подсказки по методам, включая типы требуемых аргументов и возвращаемые значения, а также доступные перечисления (Enums) и константы.

#### dota2-作图工具
[Инструментарий для Dota 2](https://marketplace.visualstudio.com/items?itemName=bigciba.dota2-tools)
— Многофункциональное расширение, которое добавляет подсветку синтаксиса для KV-файлов (KeyValues), встроенную базу API прямо в интерфейсе VS Code и меню для поиска стандартных ресурсов: иконок способностей и предметов, звуков, моделей и косметических предметов (wearables).

#### Material Icon Theme
[Набор иконок для файлов](https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme)
— Присваивает файлам и папкам уникальные цветные иконки в зависимости от их названия и расширения. Это визуально структурирует проект и ускоряет навигацию по файлам в воркспейсе.

#### Workspace Explorer
[Проводник рабочих пространств](https://marketplace.visualstudio.com/items?itemName=tomsaunders.vscode-workspace-explorer)
— Добавляет отдельную панель для сохраненных рабочих пространств (Workspaces), позволяя быстро переключаться между различными проектами.
*Рекомендуется внимательно ознакомиться с документацией по установке расширения.*

### 3.2 Темы оформления
Не стоит недооценивать важность визуального стиля редактора.
Правильно подобранная цветовая схема снижает нагрузку на глаза и делает длительную работу с кодом **намного** комфортнее.

Подобрать тему можно в каталоге [VS Code Themes](https://vscodethemes.com/).
Установка происходит в один клик: пробуйте разные варианты, чтобы адаптировать среду разработки под свои личные предпочтения.

## 4. Запуск инструментов
После установки **Dota 2 Workshop Tools DLC** при запуске игры в **Steam** появится выбор: запустить саму игру или инструменты разработчика (Workshop Tools).
Чтобы каждый раз не проходить через диалоговое окно **Steam**, рекомендуется создать прямой ярлык для запуска инструментов. Исполняемый файл находится по следующему пути:
`...\Steam\steamapps\common\dota 2 beta\game\bin\win64\dota2cfg.exe`

### 4.1 Создание аддона
В запустившемся окне **Workshop Tools** создайте новый аддон, нажав кнопку **Create New Addon**.

**Требования к названию:**
*   Используйте только латинские буквы.
*   Вместо пробелов используйте нижнее подчеркивание `_`.
*   Не используйте другие специальные символы.
*   Название **не должно** начинаться с цифры.

#### Быстрый запуск аддона
После создания ваш аддон появится в списке и автоматически станет дефолтным.
Для удобства дальнейшей работы:
1.  Выберите ваш аддон в списке.
2.  Нажмите на иконку шестеренки.
3.  Выберите пункт **Create Desktop Shortcut** (Создать ярлык на рабочем столе).

Это создаст специальный ярлык, который позволит запустить игру сразу с загруженным аддоном, минуя лаунчер **Workshop Tools**.

### 4.2 Структура файлов аддона
Файловая структура аддона разделена на две ключевые директории: **content** и **game**.
Они располагаются по следующим путям:    
`...\Steam\steamapps\common\dota 2 beta\content\dota_addons\your_addon\`    
`...\Steam\steamapps\common\dota 2 beta\game\dota_addons\your_addon\`    

#### Папка content
Здесь находятся **исходные файлы** (исходники карт, текстур, моделей, частиц, файлы интерфейса и др.). Движок автоматически компилирует их в специальный оптимизированный формат, читаемый игрой.

<Aside type="note" title="Важно">
  Файлы из этой папки **не попадают** в итоговую версию опубликованного аддона в Мастерской. Они хранятся только у вас в проекте на компьютере.
</Aside>
<Aside type="caution" title="Предупреждение">
  Будьте внимательны и не потеряйте эти файлы! В случае утраты исходников не все можно восстановить из скомпилированных файлов.
</Aside>

#### Папка game
Здесь находятся **итоговые игровые файлы**, которые непосредственно использует движок игры. Содержимое именно этой папки будет загружено в Мастерскую (Workshop).    
В этой директории хранятся результаты компиляции файлов из папки **content** и файлы, не требующие компиляции, которые вы редактируете напрямую: скрипты (**Lua**), таблицы данных (**KV**) и прочее.

## 5. Настройка рабочей области в VS Code
1.  Откройте VS Code.
2.  Перейдите в меню **File** → **Add Folder to Workspace...**
3.  Найдите и выберите папку вашего аддона внутри директории **content**.
4.  Повторите процедуру: снова нажмите **Add Folder to Workspace...** и выберите папку вашего аддона внутри директории **game**.

В итоге в левой панели (Explorer) должны появиться два корневых раздела вашего проекта.
![](@assets/documentation/workspace_prepare/vscode_workspace.png)
*Если панель с файлами не отображается, нажмите на иконку «Проводник» (две папки) в левом верхнем углу или используйте сочетание клавиш **Ctrl+Shift+E**.*

### 5.1 Сохранение воркспейса
Если вы установили рекомендованное расширение [Workspace Explorer](https://marketplace.visualstudio.com/items?itemName=tomsaunders.vscode-workspace-explorer), процесс работы с проектами станет еще удобнее.

Вы можете сохранить текущую конфигурацию (воркспейс) в папку, указанную в настройках расширения. После этого во вкладке **Workspaces** (внизу слева) появится список всех ваших проектов, и вы сможете переключаться между ними одним кликом.
![](@assets/documentation/workspace_prepare/vscode_workspaces.png)

### 5.2 Скрытие лишних файлов
Чтобы не загромождать интерфейс редактора системными файлами, которые не требуют редактирования, можно настроить правила исключения.
Для этого в каждой из папок (`content` и `game`) нужно создать папку `.vscode`, а в ней файл `settings.json`.

`content/dota_addons/your_addon/.vscode/settings.json`:
```json
{
  "files.exclude": {
    "maps/": true,
    "models/": true,
    "materials/": true,
    "particles/": true,
    "AssetBrowserSavedSearches.kv3": true
  }
}
```
``game/dota_addons/your_addon/.vscode/settings.json``:
```json
{
  "files.exclude": {
    "maps/": true,
    "assets/": true,
    "panorama/": true,
    "materials/": true,
    "particles/": true,
    "soundevents/": true,
    "tools_asset_info.bin": true,
    "panorama_debugger.cfg": true,
    "tools_thumbnail_cache.bin": true
  }
}
```

## 6. Контроль версий (GitHub)
Настоятельно рекомендуется использовать систему контроля версий и загружать проект на **GitHub**.
Это не только упрощает командную разработку, но и обеспечивает надежное хранение резервных копий.
Использование Git сводит риск потери данных к минимуму: вы всегда сможете отследить, кто, когда и какие изменения внес, а при необходимости — откатить проект до рабочей версии.

### 6.1 Настройка репозитория
Существует несколько способов работы с Git.
Мы рассмотрим процесс на примере приложения [GitHub Desktop](https://github.com/apps/desktop).

1.  Создайте пустой репозиторий на сайте **GitHub** (если у вас его все еще нет).
2.  Откройте **GitHub Desktop** и склонируйте этот репозиторий в любую удобную папку на вашем компьютере (не в папку Dota 2).
    *   **File** -> **Clone Repository**...
    *   Выберите созданный репозиторий и путь для сохранения, затем нажмите **Clone**.

### 6.2 Связывание папок (Symlinks)
Чтобы **GitHub Desktop** видел файлы вашего аддона, которые находятся в папке игры, нам нужно создать **символические ссылки (Junctions)**.
Это позволит файлам физически оставаться в папке **Dota 2**, но отображаться и синхронизироваться в папке репозитория.

1.  В **GitHub Desktop** убедитесь, что выбран нужный репозиторий.
2.  Откройте консоль в папке репозитория:
    *   **Repository** -> **Open in Command Prompt**.
3.  В открывшейся консоли необходимо выполнить две команды.    

<Aside type="caution" title="Важно">
  Замените путь к **Steam** и название **your_addon** на ваши актуальные данные.
</Aside>

Команда для папки **content**:
```cmd
cmd /c mklink /j "content" "C:\Program Files (x86)\Steam\steamapps\common\dota 2 beta\content\dota_addons\your_addon"
```

Команда для папки **game**:
```cmd
cmd /c mklink /j "game" "C:\Program Files (x86)\Steam\steamapps\common\dota 2 beta\game\dota_addons\your_addon"
```

После ввода каждой команды вы должны увидеть сообщение: Junction created for ... (Соединение успешно создано).

#### Если репозиторий уже содержит файлы аддона
Если вы клонируете чужой репозиторий или восстанавливаете свой, в котором уже есть папки **content** и **game**, создать ссылку сразу не удастся, так как папки с такими именами уже существуют.

Порядок действий:
1. Склонируйте репозиторий.
2. Вырежьте папки **content** и **game** из папки репозитория и вставьте их в соответствующие директории **Dota 2** ``../dota 2 beta/content/dota_addons`` и ``../dota 2 beta/game/dota_addons/``.
3. Убедитесь, что в папке репозитория больше нет папок **content** и **game**.
4. Выполните команды создания ссылок (см. пункт выше).

Теперь файлы находятся в игре, а репозиторий ссылается на них.
Если вы все сделали правильно, то **GitHub Desktop** не должен показывать изминения, так как вы перенесли файлы, которые уже существовали в репозитории, просто **GitHub Desktop** теперь читает них из папки **Dota 2**.

### 6.3 Настройка .gitignore
Некоторые файлы аддона не имеет смысла загружать в репозиторий, так как они являются временным кэшем или результатом автоматической компиляции.
Хранение таких файлов в Git только увеличивает размер репозитория. Кроме того, если над проектом работает несколько человек, это приведет к проблемам: файлы будут постоянно перекомпилироваться на компьютере каждого разработчика, создавая «шум» в истории изменений и лишние конфликты файлов.
Чтобы исключить их, в корне репозитория необходимо создать файл с названием `.gitignore` и добавить в него следующие правила:

```gitignore
game/models/
game/panorama/
game/materials/
game/particles/
game/panorama_debugger.cfg
game/tools_asset_info.bin
game/tools_thumbnail_cache.bin
```

Ассеты в папке **game** компилируются движком автоматически на основе исходников из папки **content**.

<Aside type="caution" title="Важное примечание">
  Перед тем как публиковать новую версию в **Мастерскую Steam**, обязательно запустите вашу кастомную игру в режиме инструментов (Tools).
  Это гарантирует, что все ассеты и интерфейс скомпилируются, и в папке **game** появятся актуальные файлы.
</Aside>

## 7. Полезные программы и ресурсы
* [Source 2 Viewer](https://s2v.app/) — мощный инструмент для работы с файлами движка Source 2. Он позволяет открывать **VPK-архивы**, а также просматривать, экспортировать и декомпилировать ресурсы.    
С его помощью можно открыть основной архив игры по пути: `...\Steam\steamapps\common\dota 2 beta\game\dota\pak01_dir.vpk`
Это позволяет изучить оригинальную структуру файлов и извлечь необходимые ассеты (модели, текстуры, звуки) для использования в своем проекте.

* [DOTA 2 VPK updates](https://github.com/spirit-bear-productions/dota_vpk_updates) — GitHub-репозиторий, который автоматически отслеживает обновления игры.
В нем публикуется актуальное **распакованное содержимое** основного архива Dota 2. Это удобно для быстрого поиска kv способностей или предметов без необходимости самостоятельно распаковывать архивы игры.